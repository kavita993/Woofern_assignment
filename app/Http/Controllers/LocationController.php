<?php 
namespace App\Http\Controllers;

use Illuminate\Http\Request;

class LocationController extends Controller
{
    public function index()
    {
        $defaultCountry = 'INDIA'; // You can make this dynamic by fetching from a database or configuration file
        return view('location.index', compact('defaultCountry'));
    }


    public function checkPincode(Request $request)
{
    $validPincodes = [
        'Chandigarh' => [
            "160001", "160002", "160003", "160004", "160005", "160006", "160007", 
            "160008", "160009", "160011", "160011", "160012", "160013", "160014", 
            "160015", "160016", "160017", "160018", "160019", "160020", "160022", 
            "160022", "160023", "160024", "160025", "160026", "160027", "160028", 
            "160029", "160030", "160031", "160032", "160033", "160034", "160035", 
            "160036", "160037", "160038", "160039", "160040", "160041", "160042", 
            "160043", "160044", "160045", "160046", "160047", "160048", "160049", 
            "160050", "160051", "160052", "160053", "160054", "160055", "160056", 
            "160057", "160058", "160059", "160060", "160061", "160062", "160063", 
            "160064", "160065", "160066", "160067", "160068", "160069", "160070", 
            "160071", "160072", "160073", "160074", "160075", "160076", "160077", 
            "160078", "160079", "160080", "160081", "160082", "160083", "160084", 
            "160085", "160086", "160087", "160088", "160089", "160090", "160091", 
            "160092", "160093", "160094", "160095", "160096", "160097", "160098", 
            "160099", "160100", "160101", "160102", "160103", "160104", "160105", 
            "160106", "160107", "160108", "160109", "160110", "160111", "160112", 
            "160113", "160114", "160115", "160116", "160117", "160118", "160119", 
            "160120", "160121", "160122", "160123", "160124", "160125", "160126", 
            "160127", "160128", "160129", "160130", "160131", "160132", "160133"
        ]
        
    ];

    $pincode = $request->input('pincode');

    foreach ($validPincodes as $location => $pincodes) {
        if (in_array($pincode, $pincodes)) {
            return response()->json([
                'status' => 'success',
                'message' => "Valid Pincode"
            ]);
        }
    }

    return response()->json([
        'status' => 'error',
        'message' => 'Invalid Pincode'
    ]);
}

}
